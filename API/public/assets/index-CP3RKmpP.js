import{b as u,r as o,j as e,L as m,a as g}from"./index-ClLVAdQ7.js";function b(){const{user:a,isAdmin:p}=u(),[,h]=o.useState([]);o.useEffect(()=>{(async()=>{try{const[l]=await Promise.all([g.get("/event")]);h(l.data)}catch(l){console.error("Erro ao buscar dados:",l)}})()},[]);const i=["Segunda","Terça","Quarta","Quinta","Sexta"],f=["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],j=new Date().getDay(),v=f[j],d=i.indexOf(v),t=a!=null&&a.eventos?a.eventos.filter(s=>{var l;return((l=s.pivot)==null?void 0:l.status)==="inscrito"}).length:0,c=a!=null&&a.eventos?a.eventos.filter(s=>{var l;return((l=s.pivot)==null?void 0:l.status)==="contemplado"}).length:0,n=a!=null&&a.eventos?a.eventos.filter(s=>{const l=i.indexOf(s.data);return d!==-2&&l>=d}).sort((s,l)=>{const r=i.indexOf(s.data),x=i.indexOf(l.data);return r!==x?r-x:s.horario_inicio.localeCompare(l.horario_inicio)}).slice(0,3):[];return e.jsxs("div",{className:"flex flex-col items-center justify-start min-h-screen p-4 font-sans main sm:p-6 lg:p-0",children:[e.jsxs("h1",{className:"py-3 text-4xl font-bold text-center md:text-5xl text-emerald-800 lg:py-6",children:["Bem-vindo(a) ao SIGME,",e.jsx("br",{}),a==null?void 0:a.name,"!"]}),p?e.jsxs("div",{className:"w-full mt-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4 lg:hidden",children:[e.jsxs("div",{className:"flex flex-col divp rounded-[20px] p-6 bg-emerald-50 w-full max-w-md",children:[e.jsx("h2",{className:"py-3 text-2xl text-center text-emerald-600",children:"Atividades"}),e.jsx("p",{children:"Local para adicionar/mudar todas as atividades registradas."}),e.jsx("p",{className:"font-bold linkpage text-zinc-950 btn-link",children:e.jsx("a",{href:"/events",children:"Clique aqui para acessar!"})})]}),e.jsxs("div",{className:"flex flex-col divp rounded-[20px] p-6 bg-emerald-50 w-full max-w-md",children:[e.jsx("h2",{className:"py-3 text-2xl text-center text-emerald-600",children:"Inscrições"}),e.jsx("p",{children:"Local para gerenciar as inscrições dos alunos."}),e.jsx("p",{className:"mt-2 font-bold linkpage text-zinc-950 btn-link",children:e.jsx("a",{href:"#",children:"Clique para acessar as inscrições!"})})]}),e.jsxs("div",{className:"flex flex-col divp rounded-[20px] p-6 bg-emerald-50 w-full max-w-md",children:[e.jsx("h2",{className:"py-3 text-2xl text-center text-emerald-600",children:"Próximas Atividades"}),e.jsx("p",{children:"Veja aqui quais serão as próximas atividades!"}),e.jsx("p",{className:"mt-2 font-bold linkpage text-zinc-950 btn-link",children:e.jsx("a",{href:"#",children:"Ainda não há atividades no sistema."})})]})]}),e.jsxs("div",{className:"flex-row justify-between hidden w-full gap-6 lg:flex",children:[e.jsxs("div",{className:"flex flex-col gap-6 pl-28",children:[e.jsxs("div",{className:"flex flex-col divp rounded-[20px] min-h-[170px] mb-30 px-6 bg-emerald-50",children:[e.jsx("h2",{className:"text-[36px] text-emerald-600 py-3 text-center",children:"Atividades"}),e.jsx("p",{children:"Local para adicionar/mudar todas as atividades registradas."}),e.jsx("p",{className:"font-bold linkpage text-zinc-950 btn-link",children:e.jsx("a",{href:"/events",children:"Clique aqui para acessar!"})})]}),e.jsxs("div",{className:"flex flex-col divp rounded-[20px] min-h-[170px] px-6 bg-emerald-50",children:[e.jsx("h2",{className:"text-[36px] text-emerald-600 py-3 text-center",children:"Inscrições"}),e.jsx("p",{children:"Local para gerenciar as inscrições dos alunos."}),e.jsx("p",{className:"font-bold linkpage text-zinc-950 btn-link",children:e.jsx("a",{href:"#",children:"Clique para acessar as inscrições!"})})]})]}),e.jsx("div",{className:"flex gap-6 pr-28",children:e.jsxs("div",{className:"flex flex-col divp rounded-[20px] min-h-[170px] px-6 bg-emerald-50",children:[e.jsx("h2",{className:"text-[36px] text-emerald-600 py-3 text-center",children:"Próximas Atividades"}),e.jsx("p",{children:"Veja aqui quais serão as próximas atividades!"}),e.jsx("p",{className:"font-bold linkpage text-zinc-950 btn-link",children:e.jsx("a",{href:"#",children:"Ainda não há atividades no sistema."})})]})})]})]}):e.jsxs("div",{className:"w-full mt-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4 lg:hidden",children:[e.jsxs("div",{className:"flex flex-col divp rounded-[20px] p-6 bg-emerald-50 w-full max-w-md",children:[e.jsx("h2",{className:"py-3 text-2xl text-center text-emerald-600",children:"Sorteios Inscritos"}),t>0?e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Você está concorrendo a ",e.jsx("span",{className:"font-bold",children:t})," sorteios!"]}),e.jsx("p",{className:"mt-2 font-bold linkpage text-zinc-950 btn-link",children:e.jsx("a",{href:"/events?filter=pendentes",children:"Veja aqui quais são!"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"Você ainda não está concorrendo a nenhum sorteio de atividade."}),e.jsx("p",{className:"mt-2 font-bold linkpage text-zinc-950 btn-link",children:e.jsx("a",{href:"/events",children:"Escolha aqui quais serão!"})})]})]}),e.jsxs("div",{className:"flex flex-col divp rounded-[20px] p-6 bg-emerald-50 w-full max-w-md",children:[e.jsx("h2",{className:"py-3 text-2xl text-center text-emerald-600",children:"Atividades Selecionadas"}),e.jsxs("p",{children:["Você está selecionado em ",e.jsx("span",{className:"font-bold",children:c})," atividades!"]}),e.jsx("p",{className:"mt-2 font-bold linkpage text-zinc-950 btn-link",children:e.jsx("a",{href:"/events?filter=selecionados",children:"Clique para ver as atividades que participará!"})})]}),e.jsxs("div",{className:"flex flex-col divp rounded-[20px] p-6 bg-emerald-50 w-full max-w-md",children:[e.jsx("h2",{className:"py-3 text-2xl text-center text-emerald-600",children:"Próximas Atividades"}),n.length>0?e.jsx("ul",{className:"flex-grow w-full space-y-2",children:n.map(s=>e.jsxs("li",{className:"p-3 text-center rounded-lg shadow-sm divp bg-emerald-50",children:[e.jsx("div",{className:"font-bold text-emerald-800",children:s.tema}),e.jsx("div",{className:"text-sm font-bold",children:e.jsxs("p",{children:[s.data," às ",s.horario_inicio]})})]},s.id))}):e.jsx("div",{className:"flex items-center justify-center flex-grow",children:e.jsx("p",{className:"text-center text-gray-600",children:"Você não tem atividades agendadas."})}),e.jsx("p",{className:"py-4 mt-auto font-bold text-center linkpage text-zinc-950 btn-link",children:e.jsx(m,{to:"/events",children:"Ver todas as atividades"})})]})]}),e.jsxs("div",{className:"flex-row justify-between hidden w-full gap-6 lg:flex",children:[e.jsxs("div",{className:"flex flex-col gap-6 pl-28",children:[e.jsxs("div",{className:"flex flex-col divp rounded-[20px] min-h-[170px] mb-30 px-6 bg-emerald-50",children:[e.jsx("h2",{className:"text-[36px] text-emerald-600 py-3 text-center",children:"Sorteios Inscritos"}),t>0?e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Você está concorrendo a ",e.jsx("span",{className:"font-bold",children:t})," sorteios!"]}),e.jsx("p",{className:"font-bold linkpage text-zinc-950 btn-link",children:e.jsx("a",{href:"/events?filter=pendentes",children:"Veja aqui quais são!"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"Você ainda não está concorrendo a nenhum sorteio de atividade."}),e.jsx("p",{className:"font-bold linkpage text-zinc-950 btn-link",children:e.jsx("a",{href:"/events",children:"Escolha aqui quais serão!"})})]})]}),e.jsxs("div",{className:"flex flex-col divp rounded-[20px] min-h-[170px] px-6 bg-emerald-50",children:[e.jsx("h2",{className:"text-[36px] text-emerald-600 py-3 text-center",children:"Atividades Selecionadas"}),e.jsxs("p",{children:["Você está selecionado em ",e.jsx("span",{className:"font-bold",children:c})," atividades!"]}),e.jsx("p",{className:"font-bold linkpage text-zinc-950 btn-link",children:e.jsx("a",{href:"/events?filter=selecionados",children:"Clique para ver as atividades que participará!"})})]})]}),e.jsx("div",{className:"flex gap-6 pr-28",children:e.jsxs("div",{className:"flex flex-col divp rounded-[20px] min-h-[170px] px-6 bg-emerald-50",children:[e.jsx("h2",{className:"text-[36px] text-emerald-600 py-3 text-center",children:"Próximas Atividades"}),n.length>0?e.jsx("ul",{className:"flex-grow w-full space-y-2",children:n.map(s=>e.jsxs("li",{className:"p-3 text-center rounded-lg shadow-sm divp bg-emerald-50",children:[e.jsx("div",{className:"font-bold text-emerald-800",children:s.tema}),e.jsxs("div",{className:"text-sm font-bold",children:[s.data," às ",s.horario_inicio]})]},s.id))}):e.jsx("div",{className:"flex items-center justify-center flex-grow",children:e.jsx("p",{className:"text-center text-black",children:"Você não tem atividades agendadas."})}),e.jsx("p",{className:"py-4 mt-auto font-bold text-center linkpage text-zinc-950 btn-link",children:e.jsx(m,{to:"/events",children:"Ver todas as atividades"})})]})})]})]})]})}export{b as default};
