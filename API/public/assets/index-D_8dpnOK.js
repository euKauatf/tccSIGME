import{r as s,j as e,H as f}from"./index-ClLVAdQ7.js";function j(){const[l,i]=s.useState([]),[x,c]=s.useState(!0),[o,m]=s.useState(null),[r,u]=s.useState(""),[n,d]=s.useState(null),h=s.useMemo(()=>r?l.filter(t=>t.name.toLowerCase().includes(r.toLowerCase())):l,[l,r]);s.useEffect(()=>{(async()=>{c(!0);try{const a=await f();i(a.data)}catch(a){console.error("Erro ao buscar alunos:",a),m("Não foi possível carregar a lista de alunos.")}finally{c(!1)}})()},[]);const p=t=>{d(n===t?null:t)};return x?e.jsx("p",{className:"p-8 text-xl text-center",children:"Carregando lista de alunos..."}):o?e.jsx("p",{className:"p-8 text-xl text-center text-red-500",children:o}):e.jsxs("div",{className:"flex flex-col items-center w-full p-4 font-sans main",children:[e.jsx("h1",{className:"py-3 text-5xl font-bold text-center text-emerald-800",children:"Alunos Registrados"}),e.jsx("div",{className:"w-full max-w-4xl mt-6",children:e.jsxs("div",{className:"flex flex-col divp rounded-[20px] p-6 bg-emerald-50 shadow-lg",children:[e.jsx("h2",{className:"py-3 text-3xl text-center md:text-4xl text-emerald-600",children:"Lista de Alunos"}),e.jsx("input",{type:"text",placeholder:"Digite o nome do aluno...",className:"input input-bordered w-1/2 my-4 mx-auto",value:r,onChange:t=>u(t.target.value)}),l.length>0?e.jsx("ul",{className:"flex flex-col pb-6 gap-y-2",children:h.map(t=>e.jsxs("li",{className:"transition-shadow bg-white rounded-lg shadow-md divp hover:shadow-lg",children:[e.jsxs("div",{className:"flex flex-col items-center justify-between p-4 sm:flex-row",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-gray-800",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Matrícula:"})," ",t.matricula]})]}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsx("button",{onClick:()=>p(t.id),className:"text-white btn btn-sm bg-emerald-500 hover:bg-emerald-600",children:n===t.id?"Ocultar Palestras":"Ver Palestras"})})]}),n===t.id&&e.jsxs("div",{className:"px-4 pt-2 pb-4 border-t",children:[e.jsx("h4",{className:"mb-2 font-bold text-emerald-700",children:"Palestras Inscritas:"}),t.eventos&&t.eventos.length>0?e.jsx("ul",{className:"space-y-2",children:t.eventos.map(a=>e.jsx("li",{className:"p-2 text-sm text-gray-800 rounded-md",children:a.tema},a.id))}):e.jsx("p",{className:"text-sm text-gray-500",children:"Este aluno não está inscrito em nenhuma palestra."})]})]},t.id))}):e.jsx("p",{className:"py-8 text-center text-gray-500",children:"Nenhum aluno encontrado."})]})})]})}export{j as default};
