import{r as t,u as N,b,p as w,j as e,q as v}from"./index-ClLVAdQ7.js";function P(){const[l,m]=t.useState([]),[u,r]=t.useState(!0),[n,c]=t.useState(null),i=N(),{isAdmin:d}=b(),a=t.useCallback(async()=>{r(!0);try{const s=await w();m(s.data),c(null)}catch(s){console.error("Erro ao carregar palestrantes:",s),c("Não foi possível carregar a lista de palestrantes.")}finally{r(!1)}},[]);t.useEffect(()=>{a()},[a]);const f=()=>{i("/palestrantes/add")},h=s=>{i(`/palestrantes/edit/${s}`)},p=async s=>{var o,x;if(window.confirm("Tem a certeza de que deseja excluir este palestrante?"))try{await v(s),alert("Palestrante excluído com sucesso!"),a()}catch(g){const j=((x=(o=g.response)==null?void 0:o.data)==null?void 0:x.message)||"Ocorreu um erro ao excluir.";alert(`Não foi possível excluir: ${j}`)}};return u?e.jsx("p",{className:"p-8 text-center",children:"A carregar palestrantes..."}):n?e.jsx("p",{className:"p-8 text-center text-red-500",children:n}):e.jsxs("div",{className:"flex flex-col items-center w-full min-h-screen p-4 font-sans main sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"flex items-center justify-between w-full max-w-4xl mb-8",children:[e.jsx("h1",{className:"text-5xl font-bold text-emerald-800",children:"Gerir Palestrantes"}),d&&e.jsxs("button",{onClick:f,className:"btn btn-success",children:[" ","Adicionar Palestrante"]})]}),e.jsx("div",{className:"w-full max-w-4xl",children:e.jsxs("div",{className:"flex flex-col divp rounded-[20px] p-6 bg-emerald-50 shadow-lg",children:[e.jsx("h2",{className:"py-3 text-3xl text-center md:text-4xl text-emerald-600",children:"Lista de Palestrantes"}),l.length>0?e.jsx("ul",{className:"flex flex-col pb-6 gap-y-2",children:l.map(s=>e.jsx("li",{className:"transition-shadow bg-white rounded-lg shadow-md divp hover:shadow-lg",children:e.jsxs("div",{className:"flex flex-col items-start justify-between p-4 sm:flex-row sm:items-center",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsx("p",{className:"text-lg font-bold text-gray-800",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Email:"})," ",s.email]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Telefone:"})," ",s.telefone]})]}),d&&e.jsxs("div",{className:"flex self-end gap-2 mt-4 sm:self-center sm:mt-0",children:[e.jsx("button",{onClick:()=>h(s.id),className:"btn btn-sm btn-success",children:"Modificar"}),e.jsx("button",{onClick:()=>p(s.id),className:"btn btn-sm btn-error",children:"Excluir"})]})]})},s.id))}):e.jsx("p",{className:"py-8 text-center text-gray-500",children:"Nenhum palestrante registado."})]})})]})}export{P as default};
