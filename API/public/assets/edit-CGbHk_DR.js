import{A as N,u as y,r as n,j as e,a as p,i as k}from"./index-ClLVAdQ7.js";/* empty css              */import{I as w}from"./input-YUKW4CFB.js";import"./index-Chjiymov.js";function S(){const{eventId:d}=N(),c=y(),f=["Segunda","Terça","Quarta","Quinta","Sexta"],[t,m]=n.useState({}),[v,u]=n.useState(!0),[x,b]=n.useState(null),[i,h]=n.useState(null);n.useEffect(()=>{(async()=>{u(!0);try{const r=await p.get(`/event/${d}`);m(r.data)}catch(r){console.error("Erro ao buscar dados do evento:",r),b("Não foi possível encontrar o evento para edição.")}finally{u(!1)}})()},[d]),n.useEffect(()=>{i&&window.scrollTo({top:0,behavior:"smooth"})},[i]);const a=s=>{const{name:r,value:o}=s.target;m(l=>({...l,[r]:o}))},j=async s=>{s.preventDefault(),h(null);try{await p.put(`/event/${d}`,t),c("/events",{state:{message:"Evento editado com sucesso!"}})}catch(r){let o="Ocorreu um erro inesperado. Tente novamente mais tarde.";if(k(r)&&r.response){const l=r.response.data;if(l.errors){const g=Object.keys(l.errors)[0];o=l.errors[g][0]}else l.message&&(o=l.message)}h(o)}};return v?e.jsx("div",{className:"p-8 text-center",children:"Carregando dados do evento..."}):x?e.jsx("div",{className:"p-8 text-center text-red-500",children:x}):e.jsx("div",{className:"flex items-center justify-center w-full p-4",children:e.jsxs("div",{className:"w-full max-w-2xl",children:[i&&e.jsxs("div",{role:"alert",className:"mb-4 alert alert-error",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 stroke-current shrink-0",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:i})]}),e.jsxs("div",{className:"flex flex-col divp rounded-[20px] p-6 sm:p-8 bg-emerald-50 shadow-lg min-h-[170px]",children:[e.jsx("h1",{className:"py-3 text-3xl font-bold text-center text-emerald-600",children:"Editar Evento"}),e.jsxs("form",{onSubmit:j,className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tema",className:"block text-sm font-medium text-gray-700",children:"Tema do Evento"}),e.jsx("input",{type:"text",id:"tema",name:"tema",value:t.tema||"",onChange:a,className:"block w-full mt-1 input input-bordered",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"vagas_max",className:"block text-sm font-medium text-gray-700",children:"Quantidade de Vagas"}),e.jsx("input",{type:"number",id:"vagas_max",name:"vagas_max",value:t.vagas_max||"",onChange:a,className:"block w-full mt-1 input input-bordered",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"palestrante",className:"block text-sm font-medium text-gray-700",children:"Palestrante"}),e.jsx("input",{type:"text",id:"palestrante",name:"palestrante",value:t.palestrante||"",onChange:a,className:"block w-full mt-1 input input-bordered",required:!0})]}),e.jsxs("div",{children:[" ",e.jsx("label",{htmlFor:"email_palestrante",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{type:"text",id:"email_palestrante",disabled:!0,name:"email_palestrante",value:t.email_palestrante||"",onChange:a,className:"block w-full mt-1 input input-bordered",required:!0})]}),e.jsxs("div",{children:[" ",e.jsx("label",{htmlFor:"telefone_palestrante",className:"block text-sm font-medium text-gray-700",children:"Telefone do Palestrante"}),e.jsx(w,{mask:"(00) 00000-0000",disabled:!0,id:"telefone_palestrante",name:"telefone_palestrante",value:t.telefone_palestrante||"",placeholder:"(00) 00000-0000",className:"w-full input input-bordered",required:!0,onAccept:s=>{a({target:{name:"telefone_palestrante",value:s}})}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"local",className:"block text-sm font-medium text-gray-700",children:"Local"}),e.jsx("input",{type:"text",id:"local",name:"local",value:t.local||"",onChange:a,className:"block w-full mt-1 input input-bordered",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"horario_inicio",className:"block text-sm font-medium text-gray-700",children:"Horário de Início"}),e.jsx("input",{type:"time",id:"horario_inicio",name:"horario_inicio",value:t.horario_inicio||"",onChange:a,className:"block w-full mt-1 input input-bordered",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"horario_termino",className:"block text-sm font-medium text-gray-700",children:"Horário de Término"}),e.jsx("input",{type:"time",id:"horario_termino",name:"horario_termino",value:t.horario_termino||"",onChange:a,className:"block w-full mt-1 input input-bordered",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"data",className:"block text-sm font-medium text-gray-700",children:"Data do Evento"}),e.jsxs("select",{id:"data",name:"data",value:t.data||"",onChange:a,className:"block w-full mt-1 select select-bordered",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Selecione um dia"}),f.map(s=>e.jsxs("option",{value:s,children:[s,"-feira"]},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"descricao",className:"block text-sm font-medium text-gray-700",children:"Descrição"}),e.jsx("textarea",{maxLength:400,id:"descricao",name:"descricao",value:t.descricao||"",onChange:a,className:"block w-full h-24 mt-1 textarea textarea-bordered",required:!0})]}),e.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>c("/events"),className:"btn btn-ghost",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"btn btn-success",children:"Salvar Alterações"})]})]})]})]})})}export{S as default};
